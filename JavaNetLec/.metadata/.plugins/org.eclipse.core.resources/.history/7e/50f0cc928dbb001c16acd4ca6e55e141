package fileio.ex01;

import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;

//파입입출력/네트워크 통신 3단계
//1. 스트림 생성 open
//2. 읽거나 저장하기 read/write
//3. 스트림 닫기 close

public class ByteFileCopy {
	public static void main(String[] args) throws IOException {
		// 1단계 스트림 open 과정이 일어난다.
		InputStream in = new FileInputStream("putty.exe");
		OutputStream out = new FileOutputStream("aatty.exe");
		int copyByte = 0;  // 얼마나 읽었느냐?
		int byteData = 0;	 // 1바이트를 저장할 저장소
		/*
		함수가 읽을 데이터가 없을 때 -1을 반환하는데
		byte는 0 ~ 255까지 밖에 표현할 수 없으므로
		-1을 저장하려면 int를 사용한다.
		*/
		// 시간 측정을 위해 계산해보자
		long sTime = System.currentTimeMillis();
		
		/*파일복사하기*/
		while(true) {
			byteData = in.read();
			if(byteData == -1)
				break;
			out.write(byteData);
			copyByte++;
			//System.out.println(copyByte);
		}
		
		long eTime = System.currentTimeMillis();
		
		System.out.println("copy Bytes : " + copyByte);
		System.out.println("copy Times : " + (eTime-sTime));
	}
}








